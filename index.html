<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huella Colectiva - Taller Docente</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><path fill='white' d='M32 2c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3 0-5-2-5-5s2-5 5-5 5 2 5 5-2 5-5 5zm-12 8c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm24 0c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm-12 10c-6 0-11 5-11 11s5 11 11 11 11-5 11-11-5-11-11-11z'/></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@600;700&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --terracota: #A0522D;
            --terracota-oscuro: #6B4423;
            --verde-salvia: #4A5F4F;
            --verde-oliva: #6B8E6B;
            --borgona: #6B2C3F;
            --borgona-claro: #8B3E56;
            --beige: #E8DCC4;
            --marfil: #F5F1E8;
            --gris-texto: #3C3C3C;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            background: linear-gradient(135deg, #F5F1E8 0%, #E8DCC4 100%);
            color: var(--gris-texto);
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, var(--borgona) 0%, var(--terracota-oscuro) 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.08) 0%, transparent 50%);
        }

        .hero-content {
            position: relative;
            z-index: 1;
            animation: fadeInUp 1.2s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-family: 'Crimson Text', serif;
            font-size: clamp(48px, 9vw, 90px);
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        .hero h1 span {
            display: block;
            color: var(--beige);
            font-weight: 600;
            margin-top: 10px;
        }

        .hero h2 {
            font-size: clamp(20px, 3vw, 28px);
            font-weight: 400;
            margin-bottom: 40px;
            opacity: 0.95;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
        }

        .hero-stats {
            display: flex;
            gap: 50px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 50px;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 48px;
            font-weight: 700;
            display: block;
            color: var(--beige);
        }

        .stat-label {
            font-size: 15px;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }

        /* Content Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 70px 20px;
        }

        /* Section Title */
        .section-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(36px, 5vw, 52px);
            font-weight: 700;
            text-align: center;
            margin-bottom: 15px;
            color: var(--borgona);
        }

        .section-subtitle {
            text-align: center;
            font-size: 18px;
            color: var(--terracota);
            margin-bottom: 50px;
            font-weight: 600;
        }

        /* Timeline */
        .timeline {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }

        .timeline-item {
            margin-bottom: 25px;
            animation: slideIn 0.7s ease-out backwards;
        }

        .timeline-item:nth-child(1) { animation-delay: 0.1s; }
        .timeline-item:nth-child(2) { animation-delay: 0.15s; }
        .timeline-item:nth-child(3) { animation-delay: 0.2s; }
        .timeline-item:nth-child(4) { animation-delay: 0.25s; }
        .timeline-item:nth-child(5) { animation-delay: 0.3s; }
        .timeline-item:nth-child(6) { animation-delay: 0.35s; }
        .timeline-item:nth-child(7) { animation-delay: 0.4s; }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .timeline-card {
            background: white;
            border-radius: 12px;
            padding: 22px 30px;
            border-left: 5px solid var(--verde-oliva);
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .timeline-card:hover {
            transform: translateX(8px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12);
            border-left-color: var(--borgona);
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .timeline-title {
            font-size: 19px;
            font-weight: 600;
            flex: 1;
            color: var(--gris-texto);
        }

        .timeline-time {
            background: var(--verde-oliva);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 14px;
        }

        /* Activity Cards */
        .activity-section {
            margin: 70px 0;
            padding: 0 20px;
        }

        .activity-card {
            background: white;
            border-radius: 16px;
            padding: 45px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border-top: 4px solid var(--terracota);
            transition: all 0.3s ease;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .activity-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateY(-4px);
        }

        .activity-header {
            margin-bottom: 30px;
            border-bottom: 2px solid var(--beige);
            padding-bottom: 20px;
        }

        .activity-number {
            font-family: 'Crimson Text', serif;
            font-size: 16px;
            font-weight: 700;
            color: var(--terracota);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .activity-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(26px, 4vw, 36px);
            font-weight: 700;
            margin: 10px 0 15px;
            color: var(--borgona);
            line-height: 1.3;
        }

        .activity-meta {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .activity-tag {
            background: var(--marfil);
            color: var(--gris-texto);
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            border: 1px solid var(--beige);
        }

        .activity-content {
            font-size: 17px;
            line-height: 1.8;
            color: var(--gris-texto);
        }

        .activity-content h3 {
            font-family: 'Crimson Text', serif;
            font-size: 24px;
            font-weight: 700;
            margin: 30px 0 18px;
            color: var(--verde-salvia);
        }

        .activity-content p {
            margin-bottom: 15px;
        }

        .activity-content strong {
            color: var(--borgona);
            font-weight: 700;
        }

        .highlight-box {
            background: linear-gradient(135deg, #F5ECD7 0%, #E8DCC4 100%);
            border-left: 5px solid var(--terracota);
            padding: 25px 30px;
            margin: 25px 0;
            border-radius: 8px;
            font-size: 19px;
            font-style: italic;
            line-height: 1.7;
            color: var(--terracota-oscuro);
        }

        .steps-list {
            list-style: none;
            padding: 0;
            margin: 25px 0;
        }

        .steps-list li {
            background: var(--marfil);
            padding: 18px 25px;
            margin-bottom: 12px;
            border-radius: 10px;
            border-left: 4px solid var(--verde-oliva);
            font-size: 17px;
            transition: all 0.3s ease;
        }

        .steps-list li:hover {
            background: var(--beige);
            transform: translateX(8px);
            border-left-color: var(--borgona);
        }

        .steps-list li strong {
            color: var(--verde-salvia);
            margin-right: 10px;
            font-weight: 700;
        }

        /* Reading Section */
        .reading-section {
            background: white;
            border-radius: 16px;
            padding: 45px;
            margin: 35px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 2px solid var(--beige);
        }

        .reading-title {
            font-family: 'Crimson Text', serif;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
            color: var(--borgona);
            padding-bottom: 15px;
            border-bottom: 2px solid var(--beige);
        }

        .reading-content {
            font-size: 17px;
            line-height: 1.9;
            text-align: justify;
            color: var(--gris-texto);
        }

        .reading-content p {
            margin-bottom: 18px;
        }

        /* Kahoot Section */
        .kahoot-section {
            background: linear-gradient(135deg, var(--verde-salvia) 0%, var(--verde-oliva) 100%);
            border-radius: 20px;
            padding: 55px;
            text-align: center;
            margin: 60px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(74, 95, 79, 0.3);
            color: white;
        }

        .kahoot-section::before {
            content: 'üìö';
            position: absolute;
            font-size: 180px;
            top: -40px;
            right: -40px;
            opacity: 0.1;
        }

        .kahoot-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(32px, 5vw, 44px);
            font-weight: 700;
            margin-bottom: 18px;
        }

        .kahoot-subtitle {
            font-size: 19px;
            margin-bottom: 35px;
            opacity: 0.95;
        }

        .kahoot-button {
            display: inline-block;
            background: var(--terracota);
            color: white;
            padding: 16px 42px;
            border-radius: 40px;
            font-size: 18px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(160, 82, 45, 0.4);
        }

        .kahoot-button:hover {
            background: var(--terracota-oscuro);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(160, 82, 45, 0.5);
        }

        /* Elements Grid */
        .elements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 18px;
            margin-top: 35px;
        }

        .element-box {
            background: var(--marfil);
            border-radius: 12px;
            padding: 25px;
            border: 2px solid var(--beige);
            transition: all 0.3s ease;
            text-align: center;
        }

        .element-box:hover {
            background: white;
            transform: translateY(-6px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            border-color: var(--verde-oliva);
        }

        .element-icon {
            font-size: 38px;
            display: block;
            margin-bottom: 12px;
        }

        .element-text {
            font-size: 16px;
            font-weight: 600;
            line-height: 1.5;
            color: var(--gris-texto);
        }

        /* Questions */
        .questions-container {
            display: grid;
            gap: 18px;
            margin-top: 35px;
        }

        .question-card {
            background: var(--marfil);
            border-radius: 12px;
            padding: 28px;
            border-left: 5px solid var(--terracota);
            transition: all 0.3s ease;
        }

        .question-card:hover {
            background: white;
            transform: translateX(8px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            color: var(--terracota);
            font-size: 26px;
            font-weight: 700;
            margin-right: 15px;
            font-family: 'Crimson Text', serif;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            line-height: 1.6;
            color: var(--gris-texto);
        }

        /* Collapsible sections */
        .collapsible-section {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid var(--verde-oliva);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .collapsible-section:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .collapsible-title {
            color: var(--verde-salvia);
            font-size: 18px;
            margin-bottom: 0;
            font-weight: 600;
        }

        .collapsible-icon {
            font-size: 24px;
            color: var(--verde-oliva);
            transition: transform 0.3s ease;
        }

        .collapsible-icon.open {
            transform: rotate(180deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible-content.open {
            max-height: 1000px;
            margin-top: 15px;
        }

        .collapsible-content p {
            font-style: italic;
            color: #666;
            margin-bottom: 12px;
        }

        .collapsible-content ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        /* Generador de equipos */
        .team-generator-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
            border: 3px solid var(--verde-oliva);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-generator-section:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .team-generator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0;
        }

        .team-generator-title {
            color: var(--verde-salvia);
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }

        .team-generator-icon {
            font-size: 28px;
            color: var(--verde-oliva);
            transition: transform 0.3s ease;
        }

        .team-generator-icon.open {
            transform: rotate(180deg);
        }

        .team-generator-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
        }

        .team-generator-content.open {
            max-height: 3000px;
            margin-top: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--gris-texto);
            font-size: 16px;
        }

        .form-group input[type="number"],
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--beige);
            border-radius: 8px;
            font-size: 15px;
            font-family: 'Source Sans Pro', sans-serif;
            transition: border-color 0.3s ease;
        }

        .form-group input[type="number"]:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--verde-oliva);
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .help-text {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .btn {
            background: var(--verde-oliva);
            color: white;
            padding: 14px 32px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Source Sans Pro', sans-serif;
        }

        .btn:hover {
            background: var(--verde-salvia);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 95, 79, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--terracota);
        }

        .btn-secondary:hover {
            background: var(--terracota-oscuro);
        }

        .teams-result {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #F5ECD7 0%, #E8DCC4 100%);
            border-radius: 12px;
            border: 2px solid var(--beige);
        }

        .team-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid var(--verde-oliva);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .team-card:nth-child(2n) {
            border-left-color: var(--terracota);
        }

        .team-card:nth-child(3n) {
            border-left-color: var(--borgona);
        }

        .team-title {
            font-family: 'Crimson Text', serif;
            font-size: 22px;
            font-weight: 700;
            color: var(--borgona);
            margin-bottom: 12px;
        }

        .team-members {
            list-style: none;
            padding: 0;
        }

        .team-members li {
            padding: 8px 12px;
            margin-bottom: 6px;
            background: var(--marfil);
            border-radius: 6px;
            font-size: 15px;
        }

        .warning-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .warning-modal.show {
            display: flex;
        }

        .warning-content {
            background: white;
            padding: 35px;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .warning-title {
            font-family: 'Crimson Text', serif;
            font-size: 26px;
            font-weight: 700;
            color: var(--borgona);
            margin-bottom: 15px;
            text-align: center;
        }

        .warning-message {
            font-size: 16px;
            line-height: 1.6;
            color: var(--gris-texto);
            margin-bottom: 25px;
            text-align: center;
        }

        .warning-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .warning-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }

        /* Quote Box */
        .quote-box {
            background: linear-gradient(135deg, var(--borgona) 0%, var(--borgona-claro) 100%);
            border-radius: 20px;
            padding: 55px;
            text-align: center;
            margin: 70px 0;
            position: relative;
            box-shadow: 0 8px 30px rgba(107, 44, 63, 0.3);
            color: white;
        }

        .quote-box::before {
            content: '"';
            font-family: 'Crimson Text', serif;
            font-size: 150px;
            position: absolute;
            top: -20px;
            left: 30px;
            opacity: 0.15;
        }

        .quote-text {
            font-family: 'Crimson Text', serif;
            font-size: clamp(24px, 3.5vw, 34px);
            font-weight: 600;
            line-height: 1.6;
            font-style: italic;
            position: relative;
            z-index: 1;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero {
                padding: 50px 20px;
            }

            .hero h1 {
                font-size: 42px;
            }

            .activity-card {
                padding: 30px 25px;
            }

            .kahoot-section {
                padding: 40px 25px;
            }

            .quote-box {
                padding: 40px 25px;
            }

            .reading-section {
                padding: 30px 25px;
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            font-size: 36px;
            opacity: 0.7;
        }

        /* Men√∫ de navegaci√≥n */
        .nav-menu {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--borgona) 0%, var(--terracota-oscuro) 100%);
            padding: 15px 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 35px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Source Sans Pro', sans-serif;
        }
        
        .nav-btn:hover {
            background: white;
            color: var(--borgona);
            transform: translateY(-2px);
        }
        
        .nav-btn.active {
            background: white;
            color: var(--borgona);
        }
        
        /* Ajuste para compensar el men√∫ fijo */
        body {
            padding-top: 70px;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-15px);
            }
            60% {
                transform: translateX(-50%) translateY(-8px);
            }
        }
    </style>
    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
      import { getDatabase, ref, push, onValue, remove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

      const firebaseConfig = {
        apiKey: "AIzaSyC3WskIJrq1R0sSRAU22Y6VGtDiP5bv5uQ",
        authDomain: "noel-trabajos.firebaseapp.com",
        databaseURL: "https://noel-trabajos-default-rtdb.firebaseio.com",
        projectId: "noel-trabajos",
        storageBucket: "noel-trabajos.firebasestorage.app",
        messagingSenderId: "558981574272",
        appId: "1:558981574272:web:528c527faf90c87ef90065"
      };

      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      
      window.firebaseDB = database;
      window.firebaseRef = ref;
      window.firebasePush = push;
      window.firebaseOnValue = onValue;
      window.firebaseRemove = remove;
    </script>
</head>
<body>
    <!-- Men√∫ de navegaci√≥n -->
    <nav class="nav-menu">
        <button class="nav-btn active" onclick="mostrarSeccion('taller')">üìö Taller Docente</button>
        <button class="nav-btn" onclick="mostrarSeccion('huella')">üë£ Huella Colectiva</button>
    </nav>

    <!-- Secci√≥n del Taller -->
    <div id="seccion-taller">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>
                HUELLA
                <span>COLECTIVA</span>
            </h1>
            <h2>Fortaleciendo nuestra comunidad de aprendizaje docente</h2>
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number">2h</span>
                    <span class="stat-label">Duraci√≥n</span>
                </div>
                <div class="stat">
                    <span class="stat-number">7</span>
                    <span class="stat-label">Actividades</span>
                </div>
                <div class="stat">
                    <span class="stat-number">10</span>
                    <span class="stat-label">Participantes</span>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">‚Üì</div>
    </section>

    <!-- Timeline Section -->
    <div class="container">
        <h2 class="section-title">Agenda del Taller</h2>
        <p class="section-subtitle">Duraci√≥n total: 1 hora 50 minutos</p>
        
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Bienvenida e introducci√≥n</div>
                        <div class="timeline-time">10 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">De lo individual a lo colectivo</div>
                        <div class="timeline-time">15 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Lectura dialogada + Kahoot</div>
                        <div class="timeline-time">20 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Construcci√≥n de la Huella Colectiva</div>
                        <div class="timeline-time">30 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Reflexi√≥n guiada en equipos</div>
                        <div class="timeline-time">20 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Acuerdos y cierre reflexivo</div>
                        <div class="timeline-time">10 min</div>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-card">
                    <div class="timeline-header">
                        <div class="timeline-title">Evaluaci√≥n del taller</div>
                        <div class="timeline-time">5 min</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Activity 1 -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 1</div>
                    <h3 class="activity-title">De lo individual a lo colectivo</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 15 minutos</span>
                        <span class="activity-tag">üìù Individual ‚Üí Plenaria</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <div class="highlight-box">
                    <strong>Pregunta clave:</strong> "¬øCon qui√©n aprendo m√°s en la escuela y por qu√©?"
                </div>

                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Reflexi√≥n individual sobre la pregunta (5 minutos)</li>
                    <li><strong>Paso 2:</strong> Escritura de respuesta en hoja o post-it</li>
                    <li><strong>Paso 3:</strong> Compartir ideas clave en plenaria (10 minutos)</li>
                    <li><strong>Paso 4:</strong> Identificar patrones sobre el aprendizaje entre pares</li>
                </ul>

                <p><strong>Objetivo:</strong> Activar experiencias previas y romper el hielo conectando con la importancia del aprendizaje colaborativo.</p>
            </div>
        </div>
    </div>

    <!-- Activity 2: Lectura dialogada -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 2</div>
                    <h3 class="activity-title">Lectura dialogada: Comunidades de Aprendizaje</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 20 minutos</span>
                        <span class="activity-tag">üë• Plenaria guiada</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Lectura colectiva del texto "De las comunidades de aprendizaje"</li>
                    <li><strong>Paso 2:</strong> Pausas reflexivas para dialogar sobre ideas principales</li>
                    <li><strong>Paso 3:</strong> Identificar qu√© pr√°cticas ya vivimos como colectivo</li>
                    <li><strong>Paso 4:</strong> Reconocer qu√© aspectos podemos fortalecer</li>
                </ul>

                <p><strong>Objetivo:</strong> Construir una comprensi√≥n compartida sobre qu√© significa ser una comunidad de aprendizaje y reflexionar sobre nuestro nivel actual.</p>

                <div class="reading-section">
                    <h4 class="reading-title">üìñ De las comunidades de aprendizaje</h4>
                    <div class="reading-content">
                        <p>Durante mucho tiempo, la mayor√≠a de las maestras y los maestros han trabajado de manera individual antes, durante y despu√©s de las clases. Sin embargo, esta forma de trabajo ha mostrado sus l√≠mites, especialmente cuando se busca mejorar la pr√°ctica docente y responder a los retos reales del aula.</p>

                        <p>Avanzar hacia comunidades de aprendizaje implica reconocer la importancia del intercambio de saberes profesionales, el trabajo colaborativo y la construcci√≥n de un ambiente de confianza, respeto y apertura en cada escuela.</p>

                        <p>Una comunidad de aprendizaje docente est√° conformada por maestras y maestros de un mismo centro de trabajo que se re√∫nen de forma peri√≥dica para dialogar, de manera horizontal, sobre las situaciones, retos y problem√°ticas vinculadas con su pr√°ctica pedag√≥gica en el aula, la escuela y la comunidad.</p>

                        <p>Las comunidades de aprendizaje no se conforman √∫nicamente por asistir a reuniones o formar parte de un colectivo. Su fortalecimiento y consolidaci√≥n dependen de las acciones que se emprenden y de las finalidades que las convocan.</p>

                        <p>Las comunidades de aprendizaje se sostienen a trav√©s de la interacci√≥n continua, la corresponsabilidad, el compromiso y la participaci√≥n activa de todos sus integrantes, reconociendo el valor de la diversidad de experiencias, saberes y perspectivas.</p>

                        <p>Aprender con y de otros rompe con la l√≥gica individualista y permite construir conocimiento pedag√≥gico colectivo, el cual tiene un impacto directo en el aprendizaje y el bienestar de las y los estudiantes.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Kahoot Section -->
    <div class="container">
        <div class="kahoot-section">
            <h2 class="kahoot-title">Momento Kahoot</h2>
            <p class="kahoot-subtitle">Reforcemos los conceptos aprendidos de forma interactiva</p>
            <a href="https://create.kahoot.it/details/2866e465-16bf-4b8c-a573-423597b9075c" target="_blank" class="kahoot-button">
                üéØ Iniciar Kahoot
            </a>
        </div>
    </div>

    <!-- Activity 3: Huella Colectiva -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 3 - Central</div>
                    <h3 class="activity-title">Construcci√≥n de la Huella Colectiva</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 30 minutos</span>
                        <span class="activity-tag">ü§ù Trabajo colaborativo</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Organizaci√≥n en plenaria frente al pizarr√≥n o papel bond</li>
                    <li><strong>Paso 2:</strong> Dise√±o colectivo de un trayecto visual (camino, mapa o l√≠nea de tiempo)</li>
                    <li><strong>Paso 3:</strong> Integraci√≥n de elementos clave de nuestro recorrido como comunidad</li>
                    <li><strong>Paso 4:</strong> Decoraci√≥n y complemento del mapa con s√≠mbolos, colores e im√°genes</li>
                    <li><strong>Paso 5:</strong> Presentaci√≥n y explicaci√≥n de la huella construida</li>
                </ul>

                <p><strong>Objetivo:</strong> Visualizar de forma creativa y colaborativa nuestro camino como comunidad de aprendizaje, reconociendo logros, retos y aprendizajes compartidos.</p>

                <h3>Elementos a representar en la huella:</h3>
                <div class="elements-grid">
                    <div class="element-box">
                        <span class="element-icon">üë•</span>
                        <p class="element-text">Participaci√≥n de cada miembro del colectivo</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">üé≠</span>
                        <p class="element-text">Roles que hemos desempe√±ado</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">üí¨</span>
                        <p class="element-text">Formas en que interactuamos y dialogamos</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">üìö</span>
                        <p class="element-text">Actividades pedag√≥gicas realizadas</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">‚ö°</span>
                        <p class="element-text">Conflictos enfrentados y c√≥mo los resolvimos</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">üí°</span>
                        <p class="element-text">Conocimientos construidos juntos</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">üìñ</span>
                        <p class="element-text">Fuentes de aprendizaje utilizadas</p>
                    </div>
                    <div class="element-box">
                        <span class="element-icon">‚úÖ</span>
                        <p class="element-text">Seguimiento a compromisos y acuerdos</p>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #FFF8E7 0%, #F5ECD7 100%); padding: 35px; border-radius: 16px; margin-top: 40px; border: 2px solid var(--beige); max-width: 1000px; margin-left: auto; margin-right: auto;">
                    <h3 style="color: var(--terracota); margin-bottom: 25px; text-align: center;">üí° Ejemplos concretos de c√≥mo construir la huella:</h3>
                    
                    <div style="background: white; padding: 30px; border-radius: 12px; margin-bottom: 25px; border-left: 4px solid var(--verde-oliva);">
                        <h4 style="color: var(--verde-salvia); font-size: 20px; margin-bottom: 15px; text-align: center;">üìã Ejemplo 1: Narrativa escrita del trayecto</h4>
                        
                        <div style="background: #F8F9FA; padding: 25px; border-radius: 8px; margin: 20px 0;">
                            <h5 style="color: var(--borgona); font-size: 18px; margin-bottom: 15px; text-align: center; font-weight: 700;">
                                "Recorrido de nuestra comunidad docente<br>(Agosto 2025 ‚Äì Enero 2026)"
                            </h5>
                            
                            <div style="line-height: 1.9; color: var(--gris-texto);">
                                <p style="margin-bottom: 15px;"><strong style="color: var(--verde-salvia);">üë• Participaci√≥n de cada integrante:</strong> La mayor√≠a del equipo (aproximadamente 8 de cada 10 docentes) comparte activamente en las plenarias, mientras que un grupo menor tiende a observar m√°s que hablar. Para equilibrar esto, acordamos implementar turnos de participaci√≥n.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--terracota);">üé≠ Roles definidos:</strong> Establecimos funciones claras: alguien modera cada sesi√≥n de forma rotativa, los equipos se turnan para tomar notas, y designamos a una persona para cuidar los tiempos.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--verde-salvia);">üí¨ Formas de comunicaci√≥n:</strong> Avanzamos hacia conversaciones m√°s equilibradas y democr√°ticas. Las reuniones donde solo se transmit√≠a informaci√≥n disminuyeron, y ahora intercambiamos m√°s t√©cnicas y estrategias did√°cticas entre colegas.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--terracota);">üìö Actividades principales:</strong> Revisamos el Programa de Desarrollo Aprendizaje, creamos planeaciones de situaciones did√°cticas y consensuamos criterios para la evaluaci√≥n formativa.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--borgona);">‚ö° Conflictos enfrentados:</strong> Surgieron desacuerdos relacionados con las tareas administrativas que deb√≠amos realizar. La soluci√≥n fue organizar un calendario y distribuir las responsabilidades entre todos.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--verde-salvia);">üí° Aprendizajes compartidos:</strong> Construimos juntos est√°ndares comunes para dar retroalimentaci√≥n a los estudiantes y dise√±amos una r√∫brica b√°sica que toda la escuela puede usar.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--terracota);">üìñ Materiales consultados:</strong> Nos apoyamos en las Gu√≠as de los Consejos T√©cnicos Escolares, en nuestra propia experiencia diaria en el aula, en textos cortos de pedagog√≠a y en materiales audiovisuales de la SEP.</p>
                                
                                <p style="margin-bottom: 15px;"><strong style="color: var(--borgona);">‚úÖ Monitoreo de compromisos:</strong> Registramos nuestros acuerdos en una libreta colectiva y dedicamos 15 minutos cada dos semanas para revisar avances en reuniones breves.</p>
                                
                                <div style="background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); padding: 20px; border-radius: 8px; margin-top: 20px; border: 2px solid var(--verde-oliva);">
                                    <p style="margin: 0; font-size: 16px; line-height: 1.6; color: var(--gris-texto); font-style: italic; text-align: center;">
                                        <strong style="color: var(--verde-salvia);">üéØ Reflexi√≥n final:</strong><br>
                                        "Evolucionamos de simplemente juntarnos a colaborar con objetivos claros y compartidos; a√∫n nos falta fortalecer el seguimiento constante y documentar mejor nuestras evidencias."
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <p style="margin: 15px 0 10px 0; font-weight: 600; color: var(--gris-texto);">üí° C√≥mo usar este formato:</p>
                        <ul style="margin-left: 20px; line-height: 1.8; color: var(--gris-texto);">
                            <li>Escribir este texto en un papel bond grande</li>
                            <li>Cada elemento puede ir en un p√°rrafo diferente con un color de marcador distinto</li>
                            <li>Agregar dibujos o s√≠mbolos al margen de cada p√°rrafo</li>
                            <li>Decorar con marcos, flechas o ilustraciones sencillas</li>
                        </ul>
                    </div>

                    <div style="background: white; padding: 30px; border-radius: 12px; border-left: 4px solid var(--terracota);">
                        <h4 style="color: var(--terracota-oscuro); font-size: 20px; margin-bottom: 15px; text-align: center;">üé® Ejemplo 2: Formato visual con recuadros</h4>
                        
                        <div style="background: #F8F9FA; padding: 25px; border-radius: 8px; margin: 20px 0;">
                            <h5 style="color: var(--borgona); font-size: 18px; margin-bottom: 20px; text-align: center; font-weight: 700; border-bottom: 2px solid var(--beige); padding-bottom: 10px;">
                                TRAYECTO DOCENTE:<br>
                                <span style="font-size: 15px; color: var(--terracota);">Narrativa Visual del Aprendizaje Colectivo</span>
                            </h5>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; margin-top: 20px;">
                                <!-- Recuadro 1: Azul -->
                                <div style="background: linear-gradient(135deg, #5B9BD5 0%, #4A8BC2 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üí¨</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">1. Participaci√≥n de cada miembro</div>
                                        <div style="font-size: 13px; line-height: 1.5;">La confianza creci√≥ de forma desigual. Algunos expresan dudas m√°s que otros, permitiendo que diferentes voces emergieran.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 2: Verde -->
                                <div style="background: linear-gradient(135deg, #70AD47 0%, #5A8A39 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üë•</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">2. Roles asignados</div>
                                        <div style="font-size: 13px; line-height: 1.5;">No se trata de repartir tareas mec√°nicas, sino de distribuir el liderazgo colaborativo, ayud√°ndonos a organizarnos con sentido com√∫n.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 3: Amarillo -->
                                <div style="background: linear-gradient(135deg, #FFC000 0%, #E6AC00 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üó£Ô∏è</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">3. Formas de interacci√≥n</div>
                                        <div style="font-size: 13px; line-height: 1.5;">Evolucionamos de informes r√≠gidos hacia conversaciones horizontales y naturales. Preguntas abiertas con escucha genuina.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 4: Naranja -->
                                <div style="background: linear-gradient(135deg, #FF9933 0%, #E67E22 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üìä</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">4. Actividades realizadas</div>
                                        <div style="font-size: 13px; line-height: 1.5;">El centro del aprendizaje es vivencial. Valoramos la colaboraci√≥n y experiencias compartidas, no solo teor√≠a.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 5: Rojo -->
                                <div style="background: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">‚ö†Ô∏è</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">5. Conflictos y sus soluciones</div>
                                        <div style="font-size: 13px; line-height: 1.5;">Reconocer el conflicto sin evadirlo. Abordamos diferencias desde el respeto, sin imponer, escuchando activamente.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 6: Morado -->
                                <div style="background: linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üìö</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">6. Tipo de conocimiento construido</div>
                                        <div style="font-size: 13px; line-height: 1.5;">Ubicado, pr√°ctico, vivido y reflexionado. Compartimos nuestra pr√°ctica, permitiendo ense√±ar y aprender a la vez.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 7: Rosa -->
                                <div style="background: linear-gradient(135deg, #EC7C9B 0%, #D5627F 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">üí°</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">7. Fuentes de aprendizaje</div>
                                        <div style="font-size: 13px; line-height: 1.5;">M√∫ltiples recursos: vivencias personales, intercambio entre pares, lecturas especializadas. Reconocemos que los colegas son un recurso valioso.</div>
                                    </div>
                                </div>
                                
                                <!-- Recuadro 8: Turquesa -->
                                <div style="background: linear-gradient(135deg, #26A69A 0%, #1E8A7D 100%); padding: 20px; border-radius: 10px; min-height: 140px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                                    <div style="position: absolute; top: 10px; right: 10px; font-size: 40px; opacity: 0.2;">‚úì</div>
                                    <div style="color: white; position: relative; z-index: 1;">
                                        <div style="font-size: 14px; font-weight: bold; margin-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 5px;">8. Seguimiento a los compromisos</div>
                                        <div style="font-size: 13px; line-height: 1.5;">Reflejo de madurez. Revisar, ajustar y mantener una direcci√≥n clara. Responsabilidad compartida en cada acuerdo com√∫n.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <p style="margin: 15px 0 10px 0; font-weight: 600; color: var(--gris-texto);">üí° C√≥mo replicar este formato:</p>
                        <ul style="margin-left: 20px; line-height: 1.8; color: var(--gris-texto);">
                            <li>Dibujar 8 recuadros en papel bond o cartulina</li>
                            <li>Usar marcadores o papeles de colores diferentes (azul, verde, amarillo, naranja, rojo, morado, rosa, turquesa)</li>
                            <li>Escribir el n√∫mero y t√≠tulo en la parte superior de cada recuadro</li>
                            <li>Agregar el contenido espec√≠fico de su comunidad en 2-3 oraciones</li>
                            <li>Decorar con emojis grandes y semitransparentes al fondo</li>
                            <li>Agregar un t√≠tulo general en la parte superior del papel</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Activity 4: Reflexi√≥n -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 4</div>
                    <h3 class="activity-title">Reflexi√≥n guiada en equipos</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 20 minutos</span>
                        <span class="activity-tag">üë• Equipos de 3-4 docentes</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Formaci√≥n de equipos de 3 a 4 docentes</li>
                    <li><strong>Paso 2:</strong> Di√°logo sobre las tres preguntas gu√≠a (15 minutos)</li>
                    <li><strong>Paso 3:</strong> Registro escrito de las respuestas consensuadas</li>
                    <li><strong>Paso 4:</strong> Cada equipo comparte una idea clave en plenaria (5 minutos)</li>
                </ul>

                <p><strong>Objetivo:</strong> Identificar logros alcanzados, reconocer fortalezas del colectivo y visibilizar √°reas de oportunidad para seguir creciendo como comunidad de aprendizaje.</p>

                <div class="team-generator-section" onclick="toggleTeamGenerator(event)">
                    <div class="team-generator-header">
                        <h4 class="team-generator-title">üé≤ Generador autom√°tico de equipos</h4>
                        <span class="team-generator-icon">‚ñº</span>
                    </div>
                    <div class="team-generator-content" id="teamGeneratorContent">
                        <p style="color: #666; margin-bottom: 20px;">Utiliza esta herramienta para formar equipos de manera aleatoria y equitativa.</p>
                        
                        <div class="form-group">
                            <label for="teamSize">¬øCu√°ntos integrantes tendr√° cada equipo?</label>
                            <input type="number" id="teamSize" min="2" max="10" value="4" placeholder="Ej: 3, 4 o 5">
                            <p class="help-text">Ingresa el n√∫mero de docentes que conformar√°n cada equipo</p>
                        </div>

                        <div class="form-group">
                            <label for="participantNames">Nombres de los participantes</label>
                            <textarea id="participantNames" placeholder="Escribe un nombre por l√≠nea. Ejemplo:&#10;Mar√≠a Garc√≠a&#10;Juan P√©rez&#10;Ana L√≥pez&#10;Carlos Rodr√≠guez" oninput="updateParticipantCount(event)"></textarea>
                            <p class="help-text" id="participantCount">Escribe un nombre en cada l√≠nea. <strong>Total: 0 participantes</strong></p>
                        </div>

                        <div style="text-align: center;">
                            <button class="btn" onclick="generateTeams(event)">üé≤ Generar equipos</button>
                        </div>

                        <div id="teamsResult"></div>
                    </div>
                </div>

                <h3>Preguntas gu√≠a para la reflexi√≥n:</h3>
                <div class="questions-container">
                    <div class="question-card">
                        <span class="question-number">1</span>
                        <span class="question-text">¬øQu√© aprendizajes hemos consolidado como colectivo docente?</span>
                    </div>
                    <div class="question-card">
                        <span class="question-number">2</span>
                        <span class="question-text">¬øQu√© experiencias nos han fortalecido como comunidad de aprendizaje?</span>
                    </div>
                    <div class="question-card">
                        <span class="question-number">3</span>
                        <span class="question-text">¬øQu√© retos siguen presentes para consolidarnos plenamente como comunidad de aprendizaje?</span>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #FFF8E7 0%, #F5ECD7 100%); padding: 35px; border-radius: 16px; margin-top: 40px; border: 2px solid var(--beige); max-width: 1000px; margin-left: auto; margin-right: auto;">
                    <h3 style="color: var(--terracota); margin-bottom: 25px; text-align: center;">üí° Ejemplos de respuestas para orientar la reflexi√≥n:</h3>
                    <p style="text-align: center; color: #666; margin-bottom: 25px; font-style: italic;">Haz clic en cada pregunta para ver ejemplos de respuestas</p>
                    
                    <div class="collapsible-section" onclick="toggleCollapsible(this)" style="border-left-color: var(--verde-oliva);">
                        <div class="collapsible-header">
                            <h4 class="collapsible-title" style="color: var(--verde-salvia);">Pregunta 1: Aprendizajes consolidados</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <p>Ejemplos de respuestas:</p>
                            <ul>
                                <li>"Hemos aprendido a dise√±ar situaciones did√°cticas centradas en el estudiante"</li>
                                <li>"Ahora compartimos estrategias de evaluaci√≥n formativa que nos funcionan"</li>
                                <li>"Aprendimos a dar retroalimentaci√≥n constructiva entre colegas"</li>
                                <li>"Consolidamos el uso de organizadores gr√°ficos en todas las materias"</li>
                            </ul>
                        </div>
                    </div>

                    <div class="collapsible-section" onclick="toggleCollapsible(this)" style="border-left-color: var(--terracota);">
                        <div class="collapsible-header">
                            <h4 class="collapsible-title" style="color: var(--terracota-oscuro);">Pregunta 2: Experiencias fortalecedoras</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <p>Ejemplos de respuestas:</p>
                            <ul>
                                <li>"La observaci√≥n entre pares nos permiti√≥ aprender t√©cnicas nuevas"</li>
                                <li>"Las sesiones de an√°lisis de casos reales nos unieron como equipo"</li>
                                <li>"Superar juntos el reto de la clase abierta nos dio confianza"</li>
                                <li>"Los c√≠rculos de lectura profesional fortalecieron nuestro di√°logo pedag√≥gico"</li>
                            </ul>
                        </div>
                    </div>

                    <div class="collapsible-section" onclick="toggleCollapsible(this)" style="border-left-color: var(--borgona);">
                        <div class="collapsible-header">
                            <h4 class="collapsible-title" style="color: var(--borgona);">Pregunta 3: Retos pendientes</h4>
                            <span class="collapsible-icon">‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <p>Ejemplos de respuestas:</p>
                            <ul>
                                <li>"Necesitamos mayor tiempo para el di√°logo pedag√≥gico profundo"</li>
                                <li>"Falta lograr la participaci√≥n equilibrada de todos los docentes"</li>
                                <li>"Debemos dar mejor seguimiento a los acuerdos que tomamos"</li>
                                <li>"Hace falta documentar y sistematizar nuestras mejores pr√°cticas"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quote -->
    <div class="container">
        <div class="quote-box">
            <p class="quote-text">
                Una comunidad de aprendizaje no se define por reunirse, sino por aprender y transformarse juntos
            </p>
        </div>
    </div>

    <!-- Activity 5: Acuerdos -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 5</div>
                    <h3 class="activity-title">Acuerdos y cierre reflexivo</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 10 minutos</span>
                        <span class="activity-tag">üë• Plenaria</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Propuesta colectiva de 2 o 3 acuerdos realistas</li>
                    <li><strong>Paso 2:</strong> Discusi√≥n y ajuste de los acuerdos propuestos</li>
                    <li><strong>Paso 3:</strong> Consenso y formalizaci√≥n de compromisos</li>
                    <li><strong>Paso 4:</strong> Definici√≥n de estrategias para dar seguimiento</li>
                </ul>

                <p><strong>Objetivo:</strong> Establecer compromisos concretos y alcanzables que fortalezcan nuestro trabajo colaborativo m√°s all√° del taller.</p>

                <h3>Los acuerdos deben ayudarnos a:</h3>
                <div style="background: var(--marfil); padding: 30px; border-radius: 12px; margin-top: 25px; border: 2px solid var(--beige);">
                    <p style="font-size: 18px; margin-bottom: 15px; color: var(--gris-texto);">‚úì Priorizar lo pedag√≥gico en nuestras reuniones</p>
                    <p style="font-size: 18px; margin-bottom: 15px; color: var(--gris-texto);">‚úì Fortalecer la participaci√≥n equitativa de todos</p>
                    <p style="font-size: 18px; margin-bottom: 0; color: var(--gris-texto);">‚úì Dar seguimiento efectivo a los compromisos asumidos</p>
                </div>

                <div style="background: linear-gradient(135deg, #FFF8E7 0%, #F5ECD7 100%); padding: 35px; border-radius: 16px; margin-top: 40px; border: 2px solid var(--beige); max-width: 1000px; margin-left: auto; margin-right: auto;">
                    <h3 style="color: var(--terracota); margin-bottom: 25px; text-align: center;">üí° Ejemplos de acuerdos concretos y alcanzables:</h3>
                    
                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid var(--verde-oliva);">
                        <h4 style="color: var(--verde-salvia); font-size: 18px; margin-bottom: 12px;">üìå Acuerdos sobre reuniones</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>"Dedicar los primeros 30 minutos de cada CTE a compartir una estrategia did√°ctica exitosa"</li>
                            <li>"Iniciar cada reuni√≥n con una pregunta pedag√≥gica que todos respondan brevemente"</li>
                            <li>"Establecer roles rotativos (moderador, secretario, timekeeper) en cada sesi√≥n"</li>
                            <li>"Limitar temas administrativos a 15 minutos para priorizar lo pedag√≥gico"</li>
                        </ul>
                    </div>

                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid var(--terracota);">
                        <h4 style="color: var(--terracota-oscuro); font-size: 18px; margin-bottom: 12px;">ü§ù Acuerdos sobre participaci√≥n</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>"Usar la t√©cnica de 'palabra viajera' para que todos compartan al menos una vez"</li>
                            <li>"Implementar trabajos en parejas rotativas cada mes para fortalecer v√≠nculos"</li>
                            <li>"Crear un 'muro de aprendizajes' donde todos colguen una reflexi√≥n mensual"</li>
                            <li>"Realizar observaciones entre pares al menos una vez por bimestre"</li>
                        </ul>
                    </div>

                    <div style="background: white; padding: 25px; border-radius: 12px; border-left: 4px solid var(--borgona);">
                        <h4 style="color: var(--borgona); font-size: 18px; margin-bottom: 12px;">‚úÖ Acuerdos sobre seguimiento</h4>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>"Destinar 10 minutos al inicio de cada reuni√≥n para revisar acuerdos previos"</li>
                            <li>"Crear una bit√°cora colectiva digital donde documentar avances"</li>
                            <li>"Designar un 'guardi√°n de acuerdos' rotativo que recuerde compromisos"</li>
                            <li>"Compartir evidencias fotogr√°ficas de las pr√°cticas acordadas en grupo de WhatsApp"</li>
                        </ul>
                    </div>

                    <div style="background: #E8F5E9; padding: 20px; border-radius: 12px; margin-top: 25px; border: 2px solid var(--verde-oliva);">
                        <p style="margin: 0; font-size: 16px; line-height: 1.7; color: var(--gris-texto);"><strong style="color: var(--verde-salvia);">üí≠ Consejo:</strong> Los mejores acuerdos son espec√≠ficos, medibles y tienen un responsable claro. Eviten acuerdos vagos como "mejorar la comunicaci√≥n" y opten por acciones concretas como "crear un grupo de WhatsApp para compartir recursos cada viernes".</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Evaluation -->
    <div class="activity-section">
        <div class="activity-card">
            <div class="activity-header">
                <div>
                    <div class="activity-number">Actividad 6</div>
                    <h3 class="activity-title">Evaluaci√≥n del taller</h3>
                    <div class="activity-meta">
                        <span class="activity-tag">‚è±Ô∏è 5 minutos</span>
                        <span class="activity-tag">üìù Individual</span>
                    </div>
                </div>
            </div>
            
            <div class="activity-content">
                <h3>¬øQu√© haremos?</h3>
                <ul class="steps-list">
                    <li><strong>Paso 1:</strong> Responder individualmente dos preguntas breves</li>
                    <li><strong>Paso 2:</strong> Escribir respuestas en post-it o formato proporcionado</li>
                    <li><strong>Paso 3:</strong> (Opcional) Compartir algunas respuestas en voz alta</li>
                </ul>

                <p><strong>Objetivo:</strong> Recoger retroalimentaci√≥n sobre la utilidad y aplicabilidad del taller.</p>

                <h3>Preguntas de evaluaci√≥n:</h3>
                <div class="questions-container">
                    <div class="question-card">
                        <span class="question-number">1</span>
                        <span class="question-text">¬øQu√© es lo m√°s valioso que me llevo de este taller?</span>
                    </div>
                    <div class="question-card">
                        <span class="question-number">2</span>
                        <span class="question-text">¬øQu√© acci√≥n concreta puedo aplicar en mi colectivo docente?</span>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #FFF8E7 0%, #F5ECD7 100%); padding: 35px; border-radius: 16px; margin-top: 40px; border: 2px solid var(--beige); max-width: 1000px; margin-left: auto; margin-right: auto;">
                    <h3 style="color: var(--terracota); margin-bottom: 25px; text-align: center;">üí° Ejemplos de respuestas para inspirar la evaluaci√≥n:</h3>
                    
                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid var(--verde-oliva);">
                        <h4 style="color: var(--verde-salvia); font-size: 18px; margin-bottom: 12px;">Pregunta 1: Lo m√°s valioso del taller</h4>
                        <p style="font-style: italic; color: #666; margin-bottom: 12px;">Ejemplos de lo que podr√≠an llevarse:</p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>"La claridad de que una comunidad no es solo reunirse, sino transformarse juntos"</li>
                            <li>"Reconocer que el aprendizaje colectivo impacta directamente a nuestros estudiantes"</li>
                            <li>"Las ideas concretas de c√≥mo construir nuestra huella como colectivo"</li>
                            <li>"La importancia de la diversidad de experiencias y saberes en el grupo"</li>
                            <li>"El valor de documentar y dar seguimiento a nuestros compromisos"</li>
                        </ul>
                    </div>

                    <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid var(--terracota);">
                        <h4 style="color: var(--terracota-oscuro); font-size: 18px; margin-bottom: 12px;">Pregunta 2: Acciones concretas a aplicar</h4>
                        <p style="font-style: italic; color: #666; margin-bottom: 12px;">Ejemplos de acciones inmediatas:</p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li>"Proponer en la pr√≥xima reuni√≥n dedicar tiempo espec√≠fico a compartir estrategias did√°cticas"</li>
                            <li>"Iniciar un grupo de WhatsApp para compartir recursos y aprendizajes entre sesiones"</li>
                            <li>"Invitar a un colega a observar mi clase y yo observar la suya"</li>
                            <li>"Crear una bit√°cora personal de aprendizajes del colectivo para compartir mensualmente"</li>
                            <li>"Proponer roles rotativos en las reuniones para fomentar participaci√≥n equitativa"</li>
                        </ul>
                    </div>

                    <div style="background: #E8F5E9; padding: 25px; border-radius: 12px; border: 2px solid var(--verde-oliva);">
                        <h4 style="color: var(--verde-salvia); font-size: 18px; margin-bottom: 12px;">üìù Formato sugerido para recoger respuestas:</h4>
                        <p style="margin-bottom: 12px; line-height: 1.7;">Pueden usar:</p>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li><strong>Post-its de colores:</strong> Un color para cada pregunta, pegados en el pizarr√≥n</li>
                            <li><strong>Tarjetas de cartulina:</strong> Decoradas y guardadas como recuerdo del taller</li>
                            <li><strong>Formulario digital:</strong> Google Forms para sistematizar respuestas</li>
                            <li><strong>Mural colaborativo:</strong> Padlet o Jamboard donde todos escriban digitalmente</li>
                        </ul>
                    </div>

                    <div style="background: #FFF3E0; padding: 20px; border-radius: 12px; margin-top: 20px; border: 2px solid var(--naranja);">
                        <p style="margin: 0; font-size: 16px; line-height: 1.7; color: var(--gris-texto);"><strong style="color: var(--terracota);">üí≠ Opcional:</strong> Si el tiempo lo permite, invitar a 3-4 voluntarios a compartir en voz alta sus respuestas. Esto enriquece el cierre y permite que todos se lleven m√°s ideas.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Final Message -->
    <div class="container">
        <div style="text-align: center; padding: 60px 20px; margin: 40px 0; background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
            <h2 style="font-family: 'Crimson Text', serif; font-size: clamp(32px, 5vw, 48px); font-weight: 700; margin-bottom: 20px; color: var(--borgona);">
                Gracias por tu compromiso
            </h2>
            <p style="font-size: 20px; color: var(--gris-texto); max-width: 600px; margin: 0 auto; line-height: 1.6;">
                Juntos construimos una comunidad de aprendizaje m√°s fuerte y colaborativa
            </p>
        </div>
    </div>

    <!-- Modal de advertencia -->
    <div class="warning-modal" id="warningModal">
        <div class="warning-content">
            <h3 class="warning-title">‚ö†Ô∏è Advertencia</h3>
            <p class="warning-message" id="warningMessage"></p>
            <div class="warning-buttons">
                <button class="btn btn-secondary" onclick="closeWarningModal()">‚ùå Cancelar</button>
                <button class="btn" onclick="confirmTeamGeneration()">‚úÖ Continuar de todos modos</button>
            </div>
        </div>
    </div>

    <script>
        // Remove scroll indicator after scrolling
        window.addEventListener('scroll', function() {
            const indicator = document.querySelector('.scroll-indicator');
            if (indicator && window.scrollY > 100) {
                indicator.style.opacity = '0';
            } else if (indicator) {
                indicator.style.opacity = '0.7';
            }
        });

        // Add smooth reveal on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.activity-section, .kahoot-section, .quote-box').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.8s ease-out';
            observer.observe(el);
        });

        // Toggle collapsible sections
        function toggleCollapsible(element) {
            const content = element.querySelector('.collapsible-content');
            const icon = element.querySelector('.collapsible-icon');
            
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.classList.remove('open');
            } else {
                content.classList.add('open');
                icon.classList.add('open');
            }
        }

        // Toggle team generator
        function toggleTeamGenerator(event) {
            // Evitar toggle si se hace clic en inputs o botones
            if (event.target.closest('input, textarea, button')) {
                return;
            }
            
            const content = document.getElementById('teamGeneratorContent');
            const icon = event.currentTarget.querySelector('.team-generator-icon');
            
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.classList.remove('open');
            } else {
                content.classList.add('open');
                icon.classList.add('open');
            }
        }

        // Update participant count
        function updateParticipantCount(event) {
            if (event) {
                event.stopPropagation();
            }
            const textarea = document.getElementById('participantNames');
            const names = textarea.value.trim().split('\n').filter(name => name.trim() !== '');
            const countElement = document.getElementById('participantCount');
            countElement.innerHTML = `Escribe un nombre en cada l√≠nea. <strong>Total: ${names.length} participantes</strong>`;
        }

        // Variables para el modal de confirmaci√≥n
        let pendingTeamData = null;

        // Generate teams
        function generateTeams(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const textarea = document.getElementById('participantNames');
            const teamSizeInput = document.getElementById('teamSize');
            const resultDiv = document.getElementById('teamsResult');
            
            // Obtener nombres y limpiar
            const names = textarea.value.trim().split('\n')
                .map(name => name.trim())
                .filter(name => name !== '');
            
            const teamSize = parseInt(teamSizeInput.value);
            
            // Validaciones b√°sicas
            if (names.length === 0) {
                alert('‚ùå Por favor, ingresa al menos un nombre de participante.');
                return;
            }
            
            if (teamSize < 2) {
                alert('‚ùå El tama√±o del equipo debe ser al menos 2 personas.');
                return;
            }
            
            if (names.length < teamSize) {
                alert('‚ùå No hay suficientes participantes para formar un equipo completo.');
                return;
            }
            
            // Verificar si habr√° equipos incompletos
            const remainder = names.length % teamSize;
            
            if (remainder !== 0) {
                // Guardar datos para usar despu√©s de la confirmaci√≥n
                pendingTeamData = { names, teamSize };
                
                const numCompleteTeams = Math.floor(names.length / teamSize);
                const warningMessage = `
                    Con ${names.length} participantes y equipos de ${teamSize} personas, 
                    se formar√°n <strong>${numCompleteTeams} equipo${numCompleteTeams !== 1 ? 's' : ''} completo${numCompleteTeams !== 1 ? 's' : ''}</strong> 
                    y quedar√° <strong>1 equipo con solo ${remainder} ${remainder === 1 ? 'persona' : 'personas'}</strong>.
                    <br><br>
                    ¬øDeseas continuar de todos modos?
                `;
                
                showWarningModal(warningMessage);
                return;
            }
            
            // Si no hay problemas, generar equipos directamente
            performTeamGeneration(names, teamSize);
        }

        // Show warning modal
        function showWarningModal(message) {
            const modal = document.getElementById('warningModal');
            const messageElement = document.getElementById('warningMessage');
            messageElement.innerHTML = message;
            modal.classList.add('show');
        }

        // Close warning modal
        function closeWarningModal() {
            const modal = document.getElementById('warningModal');
            modal.classList.remove('show');
            pendingTeamData = null;
        }

        // Confirm team generation
        function confirmTeamGeneration() {
            closeWarningModal();
            if (pendingTeamData) {
                performTeamGeneration(pendingTeamData.names, pendingTeamData.teamSize);
                pendingTeamData = null;
            }
        }

        // Perform team generation
        function performTeamGeneration(names, teamSize) {
            const resultDiv = document.getElementById('teamsResult');
            
            // Mezclar nombres aleatoriamente (algoritmo Fisher-Yates)
            const shuffled = [...names];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            
            // Formar equipos
            const teams = [];
            for (let i = 0; i < shuffled.length; i += teamSize) {
                teams.push(shuffled.slice(i, i + teamSize));
            }
            
            // Generar HTML de resultados
            let html = '<div class="teams-result">';
            html += '<h3 style="font-family: \'Crimson Text\', serif; font-size: 26px; color: var(--borgona); text-align: center; margin-bottom: 10px;">üéâ Equipos generados</h3>';
            html += `<p style="text-align: center; color: #666; margin-bottom: 25px;"><strong>${names.length}</strong> participantes ‚Ä¢ <strong>${teams.length}</strong> equipos formados</p>`;
            
            const teamColors = [
                'linear-gradient(135deg, #5B9BD5 0%, #4A8BC2 100%)',
                'linear-gradient(135deg, #70AD47 0%, #5A8A39 100%)',
                'linear-gradient(135deg, #FFC000 0%, #E6AC00 100%)',
                'linear-gradient(135deg, #FF9933 0%, #E67E22 100%)',
                'linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)',
                'linear-gradient(135deg, #9B59B6 0%, #8E44AD 100%)',
                'linear-gradient(135deg, #EC7C9B 0%, #D5627F 100%)',
                'linear-gradient(135deg, #26A69A 0%, #1E8A7D 100%)'
            ];
            
            teams.forEach((team, index) => {
                const colorIndex = index % teamColors.length;
                const isIncomplete = team.length < teamSize;
                html += `<div style="background: ${teamColors[colorIndex]}; padding: 20px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); position: relative; overflow: hidden;">`;
                
                if (isIncomplete) {
                    html += '<div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.95); padding: 6px 14px; border-radius: 20px; font-size: 13px; font-weight: 700; color: #E67E22; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">‚ö†Ô∏è Incompleto</div>';
                }
                
                html += '<div style="color: white;">';
                html += `<h4 style="margin: 0 0 15px 0; font-size: 20px; border-bottom: 2px solid rgba(255,255,255,0.3); padding-bottom: 10px;">Equipo ${index + 1} <span style="font-size: 14px; opacity: 0.9;">(${team.length} integrante${team.length !== 1 ? 's' : ''})</span></h4>`;
                html += '<ul style="margin: 0; padding-left: 20px; line-height: 1.8;">';
                team.forEach(member => {
                    html += `<li style="margin-bottom: 5px;">üë§ ${member}</li>`;
                });
                html += '</ul></div></div>';
            });
            
            html += '<div style="text-align: center; margin-top: 25px;">';
            html += '<button class="btn btn-secondary" onclick="generateTeams(event)">üîÑ Generar nuevos equipos</button>';
            html += '</div>';
            html += '</div>';
            
            resultDiv.innerHTML = html;
            
            // Scroll suave hacia los resultados
            setTimeout(() => {
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        // Close modal when clicking outside
        document.getElementById('warningModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeWarningModal();
            }
        });

        // ===== C√ìDIGO DE LA HUELLA COLECTIVA =====
  // ===== C√ìDIGO DE LA HUELLA COLECTIVA CON FIREBASE =====
        
         // Puntos que forman el contorno de una huella de pie real
const huellaSVGPath = [
    // Dedo gordo (izquierda arriba)
    [0.20, 0.15], [0.18, 0.18], [0.17, 0.22], [0.18, 0.26], [0.21, 0.29], [0.25, 0.30], [0.29, 0.29], [0.32, 0.26], [0.33, 0.22], [0.32, 0.18], [0.29, 0.15], [0.25, 0.14],
    
    // Segundo dedo
    [0.36, 0.08], [0.35, 0.11], [0.35, 0.14], [0.36, 0.17], [0.38, 0.19], [0.41, 0.20], [0.44, 0.19], [0.46, 0.17], [0.47, 0.14], [0.46, 0.11], [0.44, 0.08],
    
    // Tercer dedo
    [0.49, 0.05], [0.48, 0.08], [0.48, 0.11], [0.49, 0.14], [0.51, 0.16], [0.54, 0.17], [0.57, 0.16], [0.59, 0.14], [0.60, 0.11], [0.59, 0.08],
    
    // Cuarto dedo
    [0.62, 0.06], [0.61, 0.09], [0.61, 0.12], [0.62, 0.15], [0.64, 0.17], [0.67, 0.18], [0.70, 0.17], [0.72, 0.15], [0.73, 0.12], [0.72, 0.09],
    
    // Quinto dedo (me√±ique - derecha)
    [0.75, 0.10], [0.74, 0.13], [0.74, 0.16], [0.75, 0.19], [0.77, 0.21], [0.80, 0.22], [0.83, 0.21], [0.85, 0.19], [0.86, 0.16], [0.85, 0.13],
    
    // Conexi√≥n al metatarso (lado derecho bajando)
    [0.84, 0.24], [0.82, 0.28], [0.81, 0.32], [0.80, 0.36], [0.80, 0.40], [0.80, 0.44], [0.80, 0.48],
    
    // Parte exterior del pie (derecha)
    [0.79, 0.52], [0.78, 0.56], [0.77, 0.60], [0.76, 0.64], [0.75, 0.68], [0.74, 0.72],
    
    // Tal√≥n (parte inferior curva - derecha)
    [0.72, 0.76], [0.70, 0.80], [0.67, 0.84], [0.64, 0.87], [0.60, 0.90], [0.56, 0.92], [0.52, 0.93], [0.48, 0.93], [0.44, 0.92],
    
    // Tal√≥n (parte inferior curva - izquierda)
    [0.40, 0.90], [0.36, 0.87], [0.33, 0.84], [0.30, 0.80], [0.28, 0.76],
    
    // Parte interior del pie (izquierda subiendo)
    [0.27, 0.72], [0.26, 0.68], [0.25, 0.64], [0.24, 0.60], [0.24, 0.56], [0.24, 0.52], [0.24, 0.48],
    
    // Arco del pie (izquierda - parte c√≥ncava)
    [0.25, 0.44], [0.26, 0.40], [0.27, 0.36], [0.28, 0.32], [0.29, 0.28], [0.30, 0.25],
    
    // Regreso al dedo gordo
    [0.28, 0.22], [0.26, 0.19], [0.23, 0.17]
];
        let huellaPhrases = [];
        let firebaseInitialized = false;

        // Cargar frases desde Firebase
        function loadHuellaPhrases() {
            if (!window.firebaseDB) {
                console.error('Firebase no est√° inicializado');
                setTimeout(loadHuellaPhrases, 500);
                return;
            }

            if (firebaseInitialized) return;
            firebaseInitialized = true;

            const huellasRef = window.firebaseRef(window.firebaseDB, 'huellas');
            
            window.firebaseOnValue(huellasRef, (snapshot) => {
                huellaPhrases = [];
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    huellaPhrases.push(data.frase);
                });
                updateHuellaCounter();
                renderHuellaFingerprint();
            });
        }

        // Enviar nueva frase
        async function submitHuellaPhrase() {
            const input = document.getElementById('huella-phraseInput');
            const phrase = input.value.trim();
            
            if (!phrase) {
                alert('Por favor, escribe una frase antes de enviar');
                return;
            }

            if (!window.firebaseDB) {
                alert('Conectando con la base de datos...');
                return;
            }

            try {
                const huellasRef = window.firebaseRef(window.firebaseDB, 'huellas');
                await window.firebasePush(huellasRef, {
                    frase: phrase,
                    timestamp: Date.now()
                });
                
                input.value = '';
                
                document.querySelector('.huella-fingerprint-container').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            } catch (error) {
                console.error('Error al guardar:', error);
                alert('Hubo un error al guardar tu frase. Por favor intenta de nuevo.');
            }
        }

        // Reiniciar huella
        async function resetHuella() {
            if (!confirm('‚ö†Ô∏è ¬øEst√°s seguro de que deseas borrar TODAS las frases de la huella colectiva? Esta acci√≥n no se puede deshacer.')) {
                return;
            }

            if (!window.firebaseDB) {
                alert('Conectando con la base de datos...');
                return;
            }

            try {
                const huellasRef = window.firebaseRef(window.firebaseDB, 'huellas');
                await window.firebaseRemove(huellasRef);
                alert('‚úÖ La huella colectiva ha sido reiniciada exitosamente.');
            } catch (error) {
                console.error('Error al reiniciar:', error);
                alert('Hubo un error al reiniciar la huella. Por favor intenta de nuevo.');
            }
        }

        function updateHuellaCounter() {
            const counter = document.getElementById('huella-counter');
            if (counter) {
                counter.textContent = `${huellaPhrases.length} ${huellaPhrases.length === 1 ? 'persona ha' : 'personas han'} dejado su huella`;
            }
        }

        // Funci√≥n para obtener un punto en una curva de Bezier
function getHuellaPositionOnPath(index, totalItems, containerWidth, containerHeight) {
    // Distribuir uniformemente a lo largo del contorno
    const pathLength = huellaSVGPath.length;
    const position = (index / totalItems) * pathLength;
    const pointIndex = Math.floor(position);
    const nextIndex = (pointIndex + 1) % pathLength;
    const t = position - pointIndex;
    
    // Interpolaci√≥n entre dos puntos consecutivos
    const point1 = huellaSVGPath[pointIndex];
    const point2 = huellaSVGPath[nextIndex];
    
    const x = (point1[0] + (point2[0] - point1[0]) * t) * containerWidth;
    const y = (point1[1] + (point2[1] - point1[1]) * t) * containerHeight;
    
    // Calcular √°ngulo tangente
    const dx = point2[0] - point1[0];
    const dy = point2[1] - point1[1];
    const angle = Math.atan2(dy, dx);
    
    return { x, y, angle };
}

function renderHuellaFingerprint() {
    const container = document.getElementById('huella-fingerprint');
    if (!container) return;
    
    container.innerHTML = '';

    const containerWidth = container.offsetWidth;
    const containerHeight = container.offsetHeight;

    // Total de espacios disponibles en el contorno
    const totalSlots = 120;
    const realPhrases = huellaPhrases.length;
    const fillerDots = Math.max(0, totalSlots - realPhrases);
    
    // Combinar frases reales y puntos de relleno
    const allItems = [
        ...huellaPhrases.map(phrase => ({ type: 'phrase', content: phrase })),
        ...Array(fillerDots).fill({ type: 'dot' })
    ];

    if (allItems.length === 0) {
        container.innerHTML = '<div class="huella-empty-state">S√© el primero en dejar tu huella...</div>';
        return;
    }

    allItems.forEach((item, index) => {
        const position = getHuellaPositionOnPath(index, allItems.length, containerWidth, containerHeight);
        
        if (item.type === 'phrase') {
            const phraseElement = document.createElement('div');
            phraseElement.className = 'huella-phrase';
            phraseElement.textContent = item.content;
            phraseElement.style.left = `${position.x}px`;
            phraseElement.style.top = `${position.y}px`;
            
            // Rotar el texto para que siga el contorno
            phraseElement.style.transform = `translate(-50%, -50%) rotate(${position.angle}rad)`;
            phraseElement.style.animationDelay = `${index * 0.015}s`;
            
            // Variar tama√±o de fuente
            const fontSize = 10 + (index % 5);
            phraseElement.style.fontSize = `${fontSize}px`;
            
            container.appendChild(phraseElement);
        } else {
            const dotElement = document.createElement('div');
            dotElement.className = 'huella-dot';
            dotElement.style.left = `${position.x}px`;
            dotElement.style.top = `${position.y}px`;
            dotElement.style.transform = 'translate(-50%, -50%)';
            dotElement.style.animationDelay = `${index * 0.015}s`;
            
            container.appendChild(dotElement);
        }
    });
}

        // ===== NAVEGACI√ìN ENTRE SECCIONES =====
        
        function mostrarSeccion(seccion) {
            const tallerSection = document.getElementById('seccion-taller');
            const huellaSection = document.getElementById('seccion-huella');
            const navButtons = document.querySelectorAll('.nav-btn');
            
            if (seccion === 'taller') {
                tallerSection.style.display = 'block';
                huellaSection.style.display = 'none';
                navButtons[0].classList.add('active');
                navButtons[1].classList.remove('active');
            } else if (seccion === 'huella') {
                tallerSection.style.display = 'none';
                huellaSection.style.display = 'block';
                navButtons[0].classList.remove('active');
                navButtons[1].classList.add('active');
                
                // Cargar frases cuando se muestra la secci√≥n
                loadHuellaPhrases();
            }
            
            // Scroll al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
    </div>
    <!-- Fin Secci√≥n del Taller -->
    <!-- Secci√≥n de la Huella Colectiva -->
    <div id="seccion-huella" style="display: none;">
        <style>
            .huella-container {
                max-width: 1400px;
                margin: 0 auto;
                padding: 40px 20px;
            }

            .huella-header {
                text-align: center;
                margin-bottom: 60px;
            }

            .huella-header h1 {
                font-family: 'Crimson Text', serif;
                font-size: clamp(2.5rem, 6vw, 4.5rem);
                font-weight: 700;
                color: var(--borgona);
                margin-bottom: 15px;
                letter-spacing: -1px;
            }

            .huella-header .subtitle {
                font-size: clamp(1rem, 2vw, 1.3rem);
                color: var(--terracota);
                font-weight: 300;
                font-style: italic;
            }

            .huella-input-section {
                background: white;
                padding: 40px;
                border-radius: 20px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
                margin-bottom: 50px;
                border: 3px solid var(--borgona);
            }

            .huella-input-section label {
                display: block;
                font-size: 1.2rem;
                margin-bottom: 15px;
                color: var(--borgona);
                font-weight: 400;
            }

            .huella-input-section textarea {
                width: 100%;
                padding: 20px;
                font-family: 'Source Sans Pro', sans-serif;
                font-size: 1.2rem;
                border: 2px solid var(--borgona);
                border-radius: 12px;
                resize: vertical;
                min-height: 120px;
                background: var(--marfil);
                color: var(--gris-texto);
                transition: all 0.3s ease;
            }

            .huella-input-section textarea:focus {
                outline: none;
                border-color: var(--terracota);
                box-shadow: 0 0 0 3px rgba(160, 82, 45, 0.1);
                transform: translateY(-2px);
            }

            .huella-buttons {
                display: flex;
                gap: 15px;
                margin-top: 20px;
                flex-wrap: wrap;
            }

            .huella-btn {
                padding: 15px 40px;
                font-family: 'Source Sans Pro', sans-serif;
                font-size: 1.1rem;
                font-weight: 700;
                border: none;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            .huella-btn-primary {
                background: var(--terracota);
                color: white;
                box-shadow: 0 4px 15px rgba(160, 82, 45, 0.3);
            }

            .huella-btn-primary:hover {
                background: var(--terracota-oscuro);
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(160, 82, 45, 0.4);
            }

            .huella-btn-secondary {
                background: var(--borgona);
                color: white;
                box-shadow: 0 4px 15px rgba(107, 44, 63, 0.3);
            }

            .huella-btn-secondary:hover {
                background: var(--borgona-claro);
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(107, 44, 63, 0.4);
            }

            .huella-fingerprint-container {
                background: white;
                padding: 60px 40px;
                border-radius: 20px;
                box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
                border: 3px solid var(--borgona);
                min-height: 600px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .huella-fingerprint-title {
                font-family: 'Crimson Text', serif;
                font-size: 2rem;
                color: var(--borgona);
                margin-bottom: 40px;
                text-align: center;
            }

            .huella-counter {
                font-size: 1.1rem;
                color: var(--terracota);
                margin-bottom: 30px;
                font-weight: 400;
            }

            #huella-fingerprint {
                position: relative;
                width: 100%;
                max-width: 600px;
                height: 600px;
            }

            .huella-phrase {
                position: absolute;
                font-family: 'Source Sans Pro', sans-serif;
                font-size: 12px;
                color: var(--gris-texto);
                opacity: 0;
                animation: huellaFadeIn 0.8s ease-out forwards;
                transform-origin: center;
                white-space: nowrap;
                cursor: default;
                transition: all 0.3s ease;
                max-width: 150px;
                overflow: hidden;
                text-overflow: ellipsis;
                font-weight: 600;
            }

            .huella-phrase:hover {
                color: var(--terracota);
                font-weight: 700;
                z-index: 10;
                transform: scale(1.3);
            }

            .huella-dot {
                position: absolute;
                width: 4px;
                height: 4px;
                background: var(--gris-texto);
                border-radius: 50%;
                opacity: 0;
                animation: huellaFadeIn 0.8s ease-out forwards;
                transform: translate(-50%, -50%);
            }
            
            .huella-dot:hover {
                background: var(--borgona);
                transform: translate(-50%, -50%) scale(1.5);
            }

            .huella-empty-state {
                text-align: center;
                color: #999;
                font-style: italic;
                font-size: 1.2rem;
                padding: 60px 20px;
            }

            .huella-loading {
                text-align: center;
                padding: 40px;
                color: #666;
                font-style: italic;
            }

            @keyframes huellaFadeIn {
                from {
                    opacity: 0;
                    transform: scale(0.8) rotate(-10deg);
                }
                to {
                    opacity: 1;
                    transform: scale(1) rotate(0deg);
                }
            }
        </style>

        <div class="huella-container">
            <div class="huella-header">
                <h1>Huella Colectiva</h1>
                <p class="subtitle">Deja tu huella en el mundo con tus palabras</p>
            </div>

            <div class="huella-input-section">
                <label for="huella-phraseInput">Escribe tu frase para formar parte de la huella colectiva:</label>
                <textarea 
                    id="huella-phraseInput" 
                    placeholder="Comparte un pensamiento, un sue√±o, una reflexi√≥n..."
                    maxlength="200"
                ></textarea>
                <div class="huella-buttons">
                    <button class="huella-btn huella-btn-primary" onclick="submitHuellaPhrase()">Dejar mi huella</button>
                    <button class="huella-btn huella-btn-secondary" onclick="resetHuella()">üîÑ Reiniciar huella</button>
                </div>
            </div>

            <div class="huella-fingerprint-container">
                <h2 class="huella-fingerprint-title">La Huella Colectiva</h2>
                <div class="huella-counter" id="huella-counter">Cargando...</div>
                <div id="huella-fingerprint">
                    <div class="huella-loading">Cargando frases...</div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin Secci√≥n de la Huella Colectiva -->
</body>
</html>
